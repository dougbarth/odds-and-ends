Fast Debugger (ruby-debug-ide 0.4.16, ruby-debug-base 0.10.4) listens on 127.0.0.1:39767
=> Booting WEBrick
=> Rails 2.3.4 application starting on http://0.0.0.0:3000
default formats are encoded in ISO-8859-1
WARNING: Nokogiri was built against LibXML version 2.7.7, but has dynamically loaded 2.7.8
=> QueryTrace disabled; CTRL-\ to toggle
=> Call with -d to detach
=> Ctrl-C to shutdown server
[2011-02-15 16:37:40] INFO  WEBrick 1.3.1
[2011-02-15 16:37:40] INFO  ruby 1.8.6 (2008-08-11) [i686-darwin10.3.0]
[2011-02-15 16:37:40] INFO  WEBrick::HTTPServer#start: pid=98153 port=3000
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#message_view (for 127.0.0.1 at 2011-02-15 16:37:59) [GET]
  Parameters: {"action"=>"message_view", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (0.5ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:37:59') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (5.2ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (7.7ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (2.4ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:38:00') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:28:00') and account_id = 1) [0m
  [4;35;1mAutoRefreshCache Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `auto_refresh_caches`[0m
Publishing to queue:'async_code_execution'
Published <--- 
clazz: :AutoRefreshCache
method: :async_cache_update
params: 
- 4
>({:persistent=>true, :expiration=>28800 seconds, :priority=>5, :timestamp=>Tue Feb 15 16:38:00 +0000 2011}) to async_code_execution
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (4.3ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = '26') LIMIT 1[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `accounts`.id) AS count_all FROM `accounts` LEFT OUTER JOIN `accounts` accounts_accounts ON accounts_accounts.managed_by_account_id = accounts.id WHERE (`accounts`.managed_by_account_id = 1) [0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.managed_by_account_id = 1) ORDER BY name[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (3,2)) ORDER BY name[0m
  [4;35;1mAccount Load (0.8ms)[0m   [0mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (4,5)) ORDER BY name[0m
  [4;36;1mMessageRecipient Load (0.4ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (46.8ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (11.1ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (167.2ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (34.5ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (14.5ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (33.8ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mMessageRecipientFilter Load (0.6ms)[0m   [0;1mSELECT * FROM `message_recipient_filters` WHERE (`message_recipient_filters`.message_recipient_id = 59) [0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mSubscriptionListFilterGroup Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;36;1mSubscriptionListFilterGroup Load (1.4ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 6) [0m
Rendering template within layouts/app_im
Rendering app/messages/message_view
  [4;35;1mMessageStatus Columns (17.9ms)[0m   [0mSHOW FIELDS FROM `message_status`[0m
  [4;36;1mMessageStatus Load (1.4ms)[0m   [0;1mSELECT * FROM `message_status` WHERE (`message_status`.`id` = 1) [0m
  [4;35;1mMessageStatus Load (0.1ms)[0m   [0mSELECT * FROM `message_status` [0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;36;1mDataCollectionQuestion Load (0.2ms)[0m   [0;1mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mLocale Columns (8.1ms)[0m   [0mSHOW FIELDS FROM `locales`[0m
  [4;36;1mLocale Load (11.5ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mMessage Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (3.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
Rendered shared/_message_confirmation (340.1ms)
  [4;35;1mCampaignType Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `campaign_types`[0m
  [4;36;1mCampaignType Load (7.1ms)[0m   [0;1mSELECT * FROM `campaign_types` WHERE (`campaign_types`.`id` = 1) ORDER BY position[0m
  [4;35;1mCampaignType Load (0.3ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;36;1mSubscriptionListFilter Load (0.6ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 6) [0m
  [4;35;1mSubscriptionListFilter Columns (28.9ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;36;1mUserAttribute Columns (8.3ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttribute Load (24.9ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 9) [0m
  [4;36;1mUserAttributeDataType Columns (31.1ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (105.7ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mFilterOperatorType Columns (15.4ms)[0m   [0;1mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;35;1mFilterOperatorType Load (18.6ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mUserAttributeDataType Load (0.3ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;35;1mFilterOperatorType Load (0.5ms)[0m   [0mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;36;1mFilterOperatorType Load (1.6ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 8) [0m
  [4;35;1mCampaign Load (0.2ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = '5') LIMIT 1[0m
  [4;36;1mKeyword Load (1.7ms)[0m   [0;1mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:39:02') LIMIT 1[0m
  [4;35;1mKeyword Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `keywords`[0m
DEPRECATION WARNING: :connector has been deprecated. Use :words_connector instead. (called from format_data at /Users/doug/Code/git/textme/app/models/subscription_list_filter.rb:329)
DEPRECATION WARNING: :skip_last_comma has been deprecated. Use :last_word_connector instead. (called from format_data at /Users/doug/Code/git/textme/app/models/subscription_list_filter.rb:329)
Rendered app/messages/_show_filters (725.0ms)
Rendered layouts/_shadowing_or_managing (13.7ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (116.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (1.0ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:39:03') LIMIT 1[0m
Rendered layouts/_app_im_tabs (372.5ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (826.5ms)
  [4;36;1mAccountPricingPlan Load (0.2ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (48.8ms)
Rendered layouts/_breadcrumbs (8.6ms)
Rendered layouts/_page_title (15.8ms)
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:39:03' AND ends_at >= '2011-02-15 16:39:03') [0m
Rendered app/shared/_announcements (324.4ms)
Rendered layouts/_flash_contents (0.9ms)
Rendered layouts/_deferred_javascript (4.3ms)
Rendered layouts/_app_im_footer (21.9ms)
api_call? = false
Completed in 64537ms (View: 2631, DB: 659) | 200 OK [http://localhost/app/messages/message_view?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:39:09) [GET]
  Parameters: {"action"=>"edit_message", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (1.0ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:39:09') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (7.3ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (15.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.6ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.2ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:39:09') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:29:09') and account_id = 1) [0m
  [4;35;1mAutoRefreshCache Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `auto_refresh_caches`[0m
Publishing to queue:'async_code_execution'
Published <--- 
clazz: :AutoRefreshCache
method: :async_cache_update
params: 
- 4
>({:expiration=>28800 seconds, :priority=>5, :timestamp=>Tue Feb 15 16:39:09 +0000 2011}) to async_code_execution
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (38.6ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (17.7ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mScheduledMessageDetail Load (0.4ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (9.5ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mScheduledMessageDetail Load (0.4ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;36;1mMessageRecipient Load (0.7ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (32.3ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (18.1ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (0.2ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (0.8ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mSubscriptionListFilterGroup Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.7ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 6) [0m
Rendering template within layouts/app_im
Rendering app/messages/edit_message
  [4;36;1mLibraryItem Columns (5.8ms)[0m   [0;1mSHOW FIELDS FROM `library_items`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `library_items` WHERE ((message is not null) AND (account_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.3ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (3.8ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mMessage Columns (11.1ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mAmoeForm Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `amoe_forms`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:39:12' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:39:12') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:39:12' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:39:12') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mAggregator Load (0.2ms)[0m   [0mSELECT * FROM `messaging_development`.`aggregators` [0m
  [4;36;1mAggregator Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`aggregators`[0m
Loaded ["MC", "NN", "VB", "ER", "MYTHUM", "OMSMPP", "VS", "OM", "MB"] for Aggregator
  [4;35;1mCarrier Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`carriers`[0m
  [4;36;1mAggregatorCarrier Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`aggregator_carriers`[0m
  [4;35;1mCarrier Load Including Associations (0.5ms)[0m   [0mSELECT `messaging_development`.`carriers`.`id` AS t0_r0, `messaging_development`.`carriers`.`name` AS t0_r1, `messaging_development`.`carriers`.`sms_character_length` AS t0_r2, `messaging_development`.`carriers`.`email_domain` AS t0_r3, `messaging_development`.`carriers`.`tier` AS t0_r4, `messaging_development`.`carriers`.`created_at` AS t0_r5, `messaging_development`.`carriers`.`updated_at` AS t0_r6, `messaging_development`.`carriers`.`binary_length` AS t0_r7, `messaging_development`.`carriers`.`unicode_length` AS t0_r8, `messaging_development`.`carriers`.`binary_enabled` AS t0_r9, `messaging_development`.`carriers`.`unicode_enabled` AS t0_r10, `messaging_development`.`carriers`.`smart_messaging_enabled` AS t0_r11, `messaging_development`.`carriers`.`wap_push_enabled` AS t0_r12, `messaging_development`.`carriers`.`ems_enabled` AS t0_r13, `messaging_development`.`carriers`.`wap_push_override` AS t0_r14, `messaging_development`.`carriers`.`gsm_network` AS t0_r15, `messaging_development`.`carriers`.`show_in_carrier_override_dropdown` AS t0_r16, `messaging_development`.`aggregator_carriers`.`id` AS t1_r0, `messaging_development`.`aggregator_carriers`.`carrier_id` AS t1_r1, `messaging_development`.`aggregator_carriers`.`aggregator_id` AS t1_r2, `messaging_development`.`aggregator_carriers`.`name` AS t1_r3, `messaging_development`.`aggregator_carriers`.`created_at` AS t1_r4, `messaging_development`.`aggregator_carriers`.`updated_at` AS t1_r5 FROM `messaging_development`.`carriers` LEFT OUTER JOIN `messaging_development`.`aggregator_carriers` ON messaging_development.aggregator_carriers.carrier_id = messaging_development.carriers.id WHERE ((`messaging_development`.`carriers`.`show_in_carrier_override_dropdown` = 1) AND (aggregator_carriers.aggregator_id = 2)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:39:13' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:39:13') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:39:13' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:39:13') and campaigns.delete_me_parent_campaign_id is null))) [0m
Rendered shared/_message_text_area (2258.5ms)
Rendered app/shared/data_collection/_campaign_questions (14.0ms)
Rendered app/messages/_std_message_fields (2294.1ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCampaignType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;36;1mCampaign Load (82.9ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (((((campaigns.campaign_type_id = 1) AND (campaigns.start_at < '2011-02-15 16:39:13' and (campaigns.end_at is null or campaigns.end_at > '2011-02-15 16:39:13'))) AND (delete_me_parent_campaign_id is null)) AND (`campaigns`.`active` = 1)) AND (`campaigns`.account_id = 1)) [0m
  [4;35;1mSubscriptionCampaign Load (0.2ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
Cache read: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)
Cache write: 5/subscription_stats_namespace
Cache miss: 5/subscription_stats_namespace ({:raw=>true})
Cache write: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)
Cache write (will save 0.01ms): 5/subscription_stats_namespace
Cache read: subscription_stats_1297787953899606/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)
Cache write: subscription_stats_1297787953899606/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
Cache miss: subscription_stats_1297787953899606/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1 ({:raw=>true})
  [4;36;1mSubscription Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `subscriptions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT `subscriptions`.user_id) AS count_user_id FROM subscriptions use index (index_on_subscription_campaign_id_and_confirmed_at_opt_in_at) WHERE ((((subscription_type_id = 1) AND (confirmed_at is not null)) AND (`subscriptions`.subscription_campaign_id = 1)) AND (`subscriptions`.subscription_campaign_id = 1)) [0m
Cache write: subscription_stats_1297787953899606/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)
Cache write (will save 7.50ms): subscription_stats_1297787953899606/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` [0m
  [4;35;1mUserAttributeDataType Columns (6.2ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mUserAttribute Load (104.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAutoRefreshCache Update (0.5ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:39:14', `params` = '--- \n- 1\n- {}\n\n', `updated_at` = '2011-02-15 16:39:14' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.5ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:39:43 +0000 2011)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;36;1mAutoRefreshCache Update (0.4ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:39:14', `params` = '--- \n- 1\n- {}\n\n', `expires_at` = '2011-02-15 17:39:14', `updated_at` = '2011-02-15 16:39:14' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttribute Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttributeDataType Load (0.4ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.1ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mSubscriptionListFilter Load (0.2ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 6) [0m
  [4;36;1mSubscriptionListFilter Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 9) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 9 AND (soft_delete = 0)) [0m
  [4;36;1mFilterOperatorType Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mFilterOperatorType Load (0.1ms)[0m   [0;1mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (parent_id is not null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttribute Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
Rendered app/shared/filters/_filter_configuration (424.2ms)
Rendered app/shared/filters/_filters (1368.6ms)
Rendered app/shared/filters/_recipients_filter (1999.4ms)
Rendered app/messages/_std_create_message (4333.9ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;36;1mAccountUserRole Load (0.2ms)[0m   [0;1mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccountUserRole Load (0.1ms)[0m   [0mSELECT * FROM `account_user_roles` [0m
  [4;36;1mAccountUserRole Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (46.2ms)
  [4;35;1mCampaignType Load (57.7ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mShortCode Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `short_codes`[0m
  [4;36;1mShortCode Load (0.6ms)[0m   [0;1mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:39:16') LIMIT 1[0m
Rendered layouts/_app_im_tabs (388.0ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (741.4ms)
  [4;35;1mAccountPricingPlan Load (0.2ms)[0m   [0mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (16.0ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.6ms)
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:39:16' AND ends_at >= '2011-02-15 16:39:16') [0m
Rendered app/shared/_announcements (11.0ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.7ms)
Rendered layouts/_app_im_footer (3.5ms)
api_call? = false
Completed in 6980ms (View: 5094, DB: 481) | 200 OK [http://localhost/app/messages/edit_message?mId=26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:40:18) [POST]
  Parameters: {"time"=>"future", "scheduled_message"=>{"base_broadcast_carrier_id"=>"1", "description"=>"Sears superblast", "base_broadcast_carrier_message"=>"", "base_broadcast_message"=>"The message"}, "campaigns"=>{"5"=>"1"}, "cb_9"=>"on", "send_at"=>"02/28/2011 01:04 AM", "action"=>"edit_message", "new_filter_group"=>"0", "filters"=>[{"operator"=>"EQUALS", "id"=>"12", "value"=>"chicago", "attribute_id"=>"9"}], "controller"=>"app/messages", "Preview, then approve"=>"", "filter_group_select"=>"", "filter_group_name"=>"", "subscription_list_filter_group_id"=>"6", "mId"=>"26"}
  [4;36;1mAccountUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `account_users`[0m
  [4;35;1mAccountUser Load (0.5ms)[0m   [0mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:40:18') [0m
api_call? = false
api_call? = false
  [4;36;1mAccount Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `accounts`[0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mTimezone Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `timezones`[0m
  [4;35;1mTimezone Load (0.4ms)[0m   [0mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:40:18') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:30:18') and account_id = 1) [0m
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (8.4ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (0.3ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mScheduledMessageDetail Load (0.5ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;36;1mMessageRecipient Load (0.1ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (6.5ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (2.7ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (42.2ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (0.1ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mKeyword Load (3.8ms)[0m   [0mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:40:20') LIMIT 1[0m
  [4;36;1mKeyword Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `keywords`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mLocale Columns (5.8ms)[0m   [0mSHOW FIELDS FROM `locales`[0m
  [4;36;1mLocale Load (0.1ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.1ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.1ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mDataCollectionQuestion Load (0.1ms)[0m   [0mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageRecipientFilterType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_recipient_filter_types`[0m
  [4;35;1mMessageRecipientFilterType Load (2.3ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'ALIAS') LIMIT 1[0m
  [4;36;1mMessageRecipientFilterType Load (0.2ms)[0m   [0;1mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'CUSTOM') LIMIT 1[0m
  [4;35;1mMessageRecipientFilterType Load (0.1ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'USER') LIMIT 1[0m
  [4;36;1mSubscriptionCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mKeyword Load (0.7ms)[0m   [0;1mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:44:58') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (4.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageRecipient Destroy (1.1ms)[0m   [0;1mDELETE FROM `message_recipients` WHERE `id` = 59[0m
  [4;35;1mVersion Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `versions`[0m
  [4;36;1mScheduledMessage Update (0.7ms)[0m   [0;1mUPDATE `scheduled_messages` SET `subscription_list_filter_group_id` = NULL, `updated_at` = '2011-02-15 16:44:58' WHERE `id` = 26[0m
  [4;35;1mVersion Create (1.0ms)[0m   [0mINSERT INTO `versions` (`item_id`, `account_id`, `event`, `whodunnit`, `object`, `item_type`, `created_at`) VALUES(26, 1, 'update', 5, '--- \nupdated_at: 2011-02-15 15:30:15 Z\nemail_id: \naccount_id: 1\ncampaign_id: 5\napproval_comment: \nid: 26\napproval_status_id: \ndescription: Sears superblast\nsubscription_list_filter_group_id: 6\nupdate_initial_promo_message: false\ncreated_at: 2011-02-14 16:04:33 Z\nalert: false\n', 'ScheduledMessage', '2011-02-15 16:44:58')[0m
  [4;36;1mLocale Load (0.1ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Update (0.5ms)[0m   [0mUPDATE `messages` SET `scope` = '--- \nscheduled_message_id: 26\n' WHERE `id` = 126[0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;36;1mLocale Load (0.2ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;36;1mApprovalStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `approval_statuses` [0m
  [4;35;1mApprovalStatus Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `approval_statuses`[0m
Loaded ["PENDING", "APPROVED", "REJECTED"] for ApprovalStatus
  [4;36;1mMessageStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `message_status` [0m
  [4;35;1mMessageStatus Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_status`[0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;36;1mMessageRecipient Create (0.4ms)[0m   [0;1mINSERT INTO `message_recipients` (`updated_at`, `recipient_count`, `scheduled_message_id`, `subscription_campaign_id`, `user_id`, `created_at`) VALUES('2011-02-15 16:44:58', 0, 26, 1, NULL, '2011-02-15 16:44:58')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/app/messages/message_view?mId=26
api_call? = false
Completed in 280596ms (DB: 115) | 302 Found [http://localhost/app/messages/edit_message?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#message_view (for 127.0.0.1 at 2011-02-15 16:44:59) [GET]
  Parameters: {"action"=>"message_view", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (0.8ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:44:59') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.4ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:44:59') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:34:59') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = '26') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `accounts`.id) AS count_all FROM `accounts` LEFT OUTER JOIN `accounts` accounts_accounts ON accounts_accounts.managed_by_account_id = accounts.id WHERE (`accounts`.managed_by_account_id = 1) [0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.managed_by_account_id = 1) ORDER BY name[0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (3,2)) ORDER BY name[0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (4,5)) ORDER BY name[0m
  [4;35;1mMessageRecipient Load (0.4ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.1ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (30.1ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (0.5ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (7.1ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (1.3ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mMessageRecipientFilter Load (0.4ms)[0m   [0mSELECT * FROM `message_recipient_filters` WHERE (`message_recipient_filters`.message_recipient_id = 60) [0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
Rendering template within layouts/app_im
Rendering app/messages/message_view
  [4;36;1mMessageStatus Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `message_status`[0m
  [4;35;1mMessageStatus Load (0.8ms)[0m   [0mSELECT * FROM `message_status` WHERE (`message_status`.`id` = 1) [0m
  [4;36;1mMessageStatus Load (0.1ms)[0m   [0;1mSELECT * FROM `message_status` [0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;35;1mDataCollectionQuestion Load (0.2ms)[0m   [0mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.4ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mMessage Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
Rendered shared/_message_confirmation (276.1ms)
  [4;36;1mCampaignType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `campaign_types`[0m
  [4;35;1mCampaignType Load (0.5ms)[0m   [0mSELECT * FROM `campaign_types` WHERE (`campaign_types`.`id` = 1) ORDER BY position[0m
  [4;36;1mCampaignType Load (0.1ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
Rendered app/messages/_show_old_filters (28.3ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;36;1mAccountUserRole Load (0.2ms)[0m   [0;1mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccountUserRole Load (0.1ms)[0m   [0mSELECT * FROM `account_user_roles` [0m
  [4;36;1mAccountUserRole Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (34.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mShortCode Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `short_codes`[0m
  [4;36;1mShortCode Load (0.4ms)[0m   [0;1mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:45:01') LIMIT 1[0m
Rendered layouts/_app_im_tabs (276.9ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (332.7ms)
  [4;35;1mAccountPricingPlan Load (0.8ms)[0m   [0mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (242.1ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (1.0ms)
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:45:01' AND ends_at >= '2011-02-15 16:45:01') [0m
Rendered app/shared/_announcements (7.5ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.6ms)
Rendered layouts/_app_im_footer (3.2ms)
api_call? = false
Completed in 2174ms (View: 983, DB: 75) | 200 OK [http://localhost/app/messages/message_view?mId=26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:46:33) [GET]
  Parameters: {"action"=>"edit_message", "controller"=>"app/messages", "mId"=>"26"}
  [4;36;1mAccountUser Columns (128.1ms)[0m   [0;1mSHOW FIELDS FROM `account_users`[0m
  [4;35;1mAccountUser Load (1.2ms)[0m   [0mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:46:34') [0m
api_call? = false
api_call? = false
  [4;36;1mAccount Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `accounts`[0m
  [4;35;1mAccount Load (0.3ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mTimezone Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `timezones`[0m
  [4;35;1mTimezone Load (0.6ms)[0m   [0mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:46:34') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:36:34') and account_id = 1) [0m
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (0.6ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mScheduledMessageDetail Load (0.1ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;36;1mMessageRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (0.9ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (0.3ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
Rendering template within layouts/app_im
Rendering app/messages/edit_message
  [4;36;1mLibraryItem Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `library_items`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `library_items` WHERE ((message is not null) AND (account_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.2ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mMessage Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mAmoeForm Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `amoe_forms`[0m
  [4;35;1mSQL (38.1ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:46:35' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:46:35') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:46:35' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:46:35') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mAggregator Load (0.2ms)[0m   [0mSELECT * FROM `messaging_development`.`aggregators` [0m
  [4;36;1mAggregator Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`aggregators`[0m
Loaded ["MC", "NN", "VB", "ER", "MYTHUM", "OMSMPP", "VS", "OM", "MB"] for Aggregator
  [4;35;1mCarrier Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`carriers`[0m
  [4;36;1mAggregatorCarrier Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`aggregator_carriers`[0m
  [4;35;1mCarrier Load Including Associations (0.2ms)[0m   [0mSELECT `messaging_development`.`carriers`.`id` AS t0_r0, `messaging_development`.`carriers`.`name` AS t0_r1, `messaging_development`.`carriers`.`sms_character_length` AS t0_r2, `messaging_development`.`carriers`.`email_domain` AS t0_r3, `messaging_development`.`carriers`.`tier` AS t0_r4, `messaging_development`.`carriers`.`created_at` AS t0_r5, `messaging_development`.`carriers`.`updated_at` AS t0_r6, `messaging_development`.`carriers`.`binary_length` AS t0_r7, `messaging_development`.`carriers`.`unicode_length` AS t0_r8, `messaging_development`.`carriers`.`binary_enabled` AS t0_r9, `messaging_development`.`carriers`.`unicode_enabled` AS t0_r10, `messaging_development`.`carriers`.`smart_messaging_enabled` AS t0_r11, `messaging_development`.`carriers`.`wap_push_enabled` AS t0_r12, `messaging_development`.`carriers`.`ems_enabled` AS t0_r13, `messaging_development`.`carriers`.`wap_push_override` AS t0_r14, `messaging_development`.`carriers`.`gsm_network` AS t0_r15, `messaging_development`.`carriers`.`show_in_carrier_override_dropdown` AS t0_r16, `messaging_development`.`aggregator_carriers`.`id` AS t1_r0, `messaging_development`.`aggregator_carriers`.`carrier_id` AS t1_r1, `messaging_development`.`aggregator_carriers`.`aggregator_id` AS t1_r2, `messaging_development`.`aggregator_carriers`.`name` AS t1_r3, `messaging_development`.`aggregator_carriers`.`created_at` AS t1_r4, `messaging_development`.`aggregator_carriers`.`updated_at` AS t1_r5 FROM `messaging_development`.`carriers` LEFT OUTER JOIN `messaging_development`.`aggregator_carriers` ON messaging_development.aggregator_carriers.carrier_id = messaging_development.carriers.id WHERE ((`messaging_development`.`carriers`.`show_in_carrier_override_dropdown` = 1) AND (aggregator_carriers.aggregator_id = 2)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:46:36' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:46:36') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:46:36' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:46:36') and campaigns.delete_me_parent_campaign_id is null))) [0m
Rendered shared/_message_text_area (1615.0ms)
Rendered app/shared/data_collection/_campaign_questions (0.4ms)
Rendered app/messages/_std_message_fields (1617.7ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCampaignType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;36;1mCampaign Load (33.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (((((campaigns.campaign_type_id = 1) AND (campaigns.start_at < '2011-02-15 16:46:36' and (campaigns.end_at is null or campaigns.end_at > '2011-02-15 16:46:36'))) AND (delete_me_parent_campaign_id is null)) AND (`campaigns`.`active` = 1)) AND (`campaigns`.account_id = 1)) [0m
  [4;35;1mSubscriptionCampaign Load (0.2ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
Cache read: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
Cache write: 5/subscription_stats_namespace
Cache miss: 5/subscription_stats_namespace ({:raw=>true})
Cache write: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
Cache write (will save 0.01ms): 5/subscription_stats_namespace
Cache read: subscription_stats_1297788396740660/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
Cache write: subscription_stats_1297788396740660/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
Cache miss: subscription_stats_1297788396740660/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1 ({:raw=>true})
  [4;36;1mSubscription Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `subscriptions`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT `subscriptions`.user_id) AS count_user_id FROM subscriptions use index (index_on_subscription_campaign_id_and_confirmed_at_opt_in_at) WHERE ((((subscription_type_id = 1) AND (confirmed_at is not null)) AND (`subscriptions`.subscription_campaign_id = 1)) AND (`subscriptions`.subscription_campaign_id = 1)) [0m
Cache write: subscription_stats_1297788396740660/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
Cache write (will save 6.06ms): subscription_stats_1297788396740660/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` [0m
  [4;35;1mUserAttributeDataType Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mUserAttribute Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;36;1mAutoRefreshCache Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `auto_refresh_caches`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Update (1.0ms)[0m   [0mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:46:37', `params` = '--- \n- 1\n- {}\n\n', `updated_at` = '2011-02-15 16:46:37' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAutoRefreshCache Load (0.4ms)[0m   [0;1mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;35;1mAutoRefreshCache Update (0.4ms)[0m   [0mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:46:37', `params` = '--- \n- 1\n- {}\n\n', `expires_at` = '2011-02-15 17:46:37', `updated_at` = '2011-02-15 16:46:37' WHERE `id` = 4[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;35;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttributeDataType Load (1.3ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;35;1mValidUserAttributeValue Load (0.2ms)[0m   [0mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
Rendered app/shared/filters/_filter_configuration (37.1ms)
Rendered app/shared/filters/_filters (598.4ms)
Rendered app/shared/filters/_recipients_filter (931.0ms)
Rendered app/messages/_std_create_message (2557.2ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (276.1ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (0.4ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:46:38') LIMIT 1[0m
Rendered layouts/_app_im_tabs (272.5ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (683.1ms)
  [4;36;1mAccountPricingPlan Load (0.2ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (12.7ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:46:38' AND ends_at >= '2011-02-15 16:46:38') [0m
Rendered app/shared/_announcements (7.1ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.6ms)
Rendered layouts/_app_im_footer (3.2ms)
api_call? = false
Completed in 4391ms (View: 3167, DB: 260) | 200 OK [http://localhost/app/messages/edit_message?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#new_filter_group (for 127.0.0.1 at 2011-02-15 16:46:41) [POST]
  Parameters: {"filter_type"=>"scheduled_message", "action"=>"new_filter_group", "controller"=>"app/messages"}
  [4;35;1mAccountUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (41.6ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:46:42') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.4ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.3ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:46:42') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:36:42') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mCampaign Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
Rendering /app/shared/filters/new_filter_group
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttributeDataType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.2ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mUserAttributeDataType Load (0.2ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
Rendered app/shared/filters/_filter_configuration (487.9ms)
api_call? = false
Completed in 1430ms (View: 509, DB: 61) | 200 OK [http://localhost/app/messages/new_filter_group?filter_type=scheduled_message]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::ContactsController#index (for 127.0.0.1 at 2011-02-15 16:46:59) [GET]
  Parameters: {"action"=>"index", "controller"=>"app/contacts"}
  [4;35;1mAccountUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (0.4ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:46:59') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:46:59') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:36:59') and account_id = 1) [0m
In menu filter "contacts", {}
In menu filter "contacts", {}
  [4;35;1mSubscriptionType Load (0.1ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mUser Load (49.6ms)[0m   [0mSELECT * FROM `users` LIMIT 0, 50[0m
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (20.8ms)[0m   [0mSELECT count(*) AS count_all FROM `users` [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttribute Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttributeDataType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;36;1mUserAttributeDataType Load (0.6ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;35;1mValidUserAttributeValue Load (0.1ms)[0m   [0mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mUserAttribute Load (0.7ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'city') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mValidUserAttributeValue Load (11.6ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 9) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mUserAttribute Load (0.5ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'birthdate') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mValidUserAttributeValue Load (0.2ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 5) [0m
  [4;36;1mUserAttributeDataType Load (27.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'city') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'birthdate') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'city') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'city') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'city') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 9) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'city') AND (((account_id is null or account_id = NULL)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 9) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
UserAttributes.find_bulk took 0.999007s
Rendering template within layouts/app_im
Rendering app/contacts/index
Rendered app/shared/sidenav/_index_sidenav (56.3ms)
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCampaignType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;36;1mAutoRefreshCache Load (0.8ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;35;1mAutoRefreshCache Columns (26.9ms)[0m   [0mSHOW FIELDS FROM `auto_refresh_caches`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;35;1mSQL (15.4ms)[0m   [0mBEGIN[0m
  [4;36;1mAutoRefreshCache Update (0.4ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:47:01', `params` = '--- \n- 1\n- {}\n\n', `updated_at` = '2011-02-15 16:47:01' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.3ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:06 +0000 2011)
  [4;36;1mSQL (1.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;36;1mAutoRefreshCache Update (0.3ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:47:01', `params` = '--- \n- 1\n- {}\n\n', `expires_at` = '2011-02-15 17:47:01', `updated_at` = '2011-02-15 16:47:01' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttributeDataType Load (0.3ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;35;1mValidUserAttributeValue Load (0.1ms)[0m   [0mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
Rendered app/shared/filters/_filter_configuration (11.6ms)
Rendered app/shared/filters/_filters (391.3ms)
  [4;36;1mUserAttribute Load (0.7ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mValidUserAttributeValue Load (0.3ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (document_name = 'email_address') AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id = 3) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 7) [0m
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (22.8ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
  [4;35;1mAccountUserRole Load (0.1ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (12.7ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (322.3ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (8.5ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (0.4ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:47:02') LIMIT 1[0m
Rendered layouts/_app_im_tabs (47.7ms)
Checking for existence of sub_tabs/_contacts.html
Rendered sub_tabs/_contacts (0.5ms)
Rendered layouts/_app_im_header (397.5ms)
  [4;36;1mAccountPricingPlan Load (0.2ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (240.0ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.6ms)
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:47:02' AND ends_at >= '2011-02-15 16:47:02') [0m
Rendered app/shared/_announcements (7.9ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.6ms)
Rendered layouts/_app_im_footer (3.2ms)
api_call? = false
Completed in 3540ms (View: 1559, DB: 224) | 200 OK [http://localhost/api/contacts]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::ContactsController#new_filter_group (for 127.0.0.1 at 2011-02-15 16:47:06) [POST]
  Parameters: {"filter_type"=>"contacts", "action"=>"new_filter_group", "controller"=>"app/contacts"}
  [4;35;1mAccountUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (0.4ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:47:07') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.3ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:47:07') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:37:07') and account_id = 1) [0m
In menu filter "contacts", {}
In menu filter "contacts", {}
  [4;35;1mCampaign Columns (113.8ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.2ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
Rendering /app/shared/filters/new_filter_group
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttributeDataType Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (0.2ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.2ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
Rendered app/shared/filters/_filter_configuration (284.5ms)
api_call? = false
Completed in 1076ms (View: 281, DB: 131) | 200 OK [http://localhost/app/contacts/new_filter_group?filter_type=contacts]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::ContactsController#filter_contacts (for 127.0.0.1 at 2011-02-15 16:47:20) [POST]
  Parameters: {"action"=>"filter_contacts", "new_filter_group"=>"1", "filters"=>[{"operator"=>"EQUALS", "value"=>"Doug", "attribute_id"=>"1"}], "controller"=>"app/contacts", "cb_1"=>"on", "filter_group_select"=>"", "filter_group_name"=>"Doug", "Apply"=>""}
  [4;35;1mAccountUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (70.0ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:47:20') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.4ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:47:21') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:37:21') and account_id = 1) [0m
In menu filter "contacts", {}
In menu filter "contacts", {}
  [4;35;1mSubscriptionListFilterGroup Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.5ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = '') LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.2ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` IS NULL) LIMIT 1[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.3ms)[0m   [0;1mSELECT `subscription_list_filter_groups`.id FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`name` = BINARY 'Doug') LIMIT 1[0m
  [4;35;1mUserAttribute Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttribute Load (0.5ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = '1') LIMIT 1[0m
  [4;35;1mUserAttributeDataType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mFilterOperatorType Load (0.2ms)[0m   [0mSELECT * FROM `filter_operator_types` [0m
  [4;36;1mFilterOperatorType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `filter_operator_types`[0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`code` = 'EQUALS') LIMIT 1[0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;35;1mSubscriptionListFilter Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;36;1mSubscriptionListFilter Load (0.6ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mUserAttribute Load (0.3ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
Lucene query: first_name:"Doug" AND (account_id<long>:1 OR account_id:1)
Lucene query: first_name:"Doug" AND (account_id<long>:1 OR account_id:1)
Query results: []
Prune results: []
user_attribute_filtered_user_ids filtered ids: []
  [4;35;1mSubscriptionType Load (0.2ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (3.9ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `subscription_list_filter_groups`.id FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`name` = BINARY 'Doug') LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Create (0.5ms)[0m   [0mINSERT INTO `subscription_list_filter_groups` (`name`, `updated_at`, `account_id`, `description`, `created_at`) VALUES('Doug', '2011-02-15 16:47:26', 1, NULL, '2011-02-15 16:47:26')[0m
  [4;36;1mSubscriptionListFilter Create (1.2ms)[0m   [0;1mINSERT INTO `subscription_list_filters` (`user_attribute_id`, `updated_at`, `account_id`, `filter_operator_type_id`, `subscription_column`, `subscription_list_filter_group_id`, `filter_data_2`, `filter_data`, `created_at`) VALUES(1, '2011-02-15 16:47:26', 1, 1, NULL, 7, NULL, 'Doug', '2011-02-15 16:47:26')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/app_im
Rendering app/contacts/index
Rendered app/shared/sidenav/_index_sidenav (10.0ms)
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;35;1mCampaignType Load (0.2ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCampaignType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;35;1mAutoRefreshCache Load (68.0ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;36;1mAutoRefreshCache Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `auto_refresh_caches`[0m
  [4;35;1mAccount Load (0.9ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Update (0.3ms)[0m   [0mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:47:26', `params` = '--- \n- 1\n- {}\n\n', `updated_at` = '2011-02-15 16:47:26' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.6ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mSubscriptionListFilter Load (0.3ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;36;1mFilterOperatorType Load (0.1ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
Lucene query: first_name:"Doug" AND (account_id<long>:1 OR account_id:1)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Load (0.4ms)[0m   [0mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;36;1mAutoRefreshCache Update (0.5ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:47:26', `params` = '--- \n- 1\n- :total_count: true\n', `expires_at` = '2011-02-15 17:47:26', `updated_at` = '2011-02-15 16:47:26' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;35;1mValidUserAttributeValue Load (0.2ms)[0m   [0mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (parent_id is not null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
Rendered app/shared/filters/_filter_configuration (263.1ms)
Rendered app/shared/filters/_filters (437.7ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (49.5ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (0.4ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:47:27') LIMIT 1[0m
Rendered layouts/_app_im_tabs (279.7ms)
Checking for existence of sub_tabs/_contacts.html
Rendered sub_tabs/_contacts (0.1ms)
Rendered layouts/_app_im_header (352.8ms)
  [4;36;1mAccountPricingPlan Load (0.2ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (12.1ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:47:27' AND ends_at >= '2011-02-15 16:47:27') [0m
Rendered app/shared/_announcements (7.5ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.7ms)
Rendered layouts/_app_im_footer (3.3ms)
api_call? = false
Completed in 6684ms (View: 1004, DB: 180) | 200 OK [http://localhost/app/contacts/filter_contacts]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:47:42) [GET]
  Parameters: {"action"=>"edit_message", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (33.3ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:47:42') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:47:43') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:37:43') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;36;1mScheduledMessageDetail Load (0.1ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;35;1mMessageRecipient Load (0.2ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.2ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (339.3ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (31.2ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
Rendering template within layouts/app_im
Rendering app/messages/edit_message
  [4;35;1mLibraryItem Columns (153.5ms)[0m   [0mSHOW FIELDS FROM `library_items`[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `library_items` WHERE ((message is not null) AND (account_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mLocale Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `locales`[0m
  [4;36;1mLocale Load (3.9ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mMessage Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mAmoeForm Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `amoe_forms`[0m
  [4;36;1mSQL (37.2ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:47:45' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:47:45') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:47:45' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:47:45') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mAggregator Load (0.2ms)[0m   [0;1mSELECT * FROM `messaging_development`.`aggregators` [0m
  [4;35;1mAggregator Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`aggregators`[0m
Loaded ["MC", "NN", "VB", "ER", "MYTHUM", "OMSMPP", "VS", "OM", "MB"] for Aggregator
  [4;36;1mCarrier Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`carriers`[0m
  [4;35;1mAggregatorCarrier Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`aggregator_carriers`[0m
  [4;36;1mCarrier Load Including Associations (1.3ms)[0m   [0;1mSELECT `messaging_development`.`carriers`.`id` AS t0_r0, `messaging_development`.`carriers`.`name` AS t0_r1, `messaging_development`.`carriers`.`sms_character_length` AS t0_r2, `messaging_development`.`carriers`.`email_domain` AS t0_r3, `messaging_development`.`carriers`.`tier` AS t0_r4, `messaging_development`.`carriers`.`created_at` AS t0_r5, `messaging_development`.`carriers`.`updated_at` AS t0_r6, `messaging_development`.`carriers`.`binary_length` AS t0_r7, `messaging_development`.`carriers`.`unicode_length` AS t0_r8, `messaging_development`.`carriers`.`binary_enabled` AS t0_r9, `messaging_development`.`carriers`.`unicode_enabled` AS t0_r10, `messaging_development`.`carriers`.`smart_messaging_enabled` AS t0_r11, `messaging_development`.`carriers`.`wap_push_enabled` AS t0_r12, `messaging_development`.`carriers`.`ems_enabled` AS t0_r13, `messaging_development`.`carriers`.`wap_push_override` AS t0_r14, `messaging_development`.`carriers`.`gsm_network` AS t0_r15, `messaging_development`.`carriers`.`show_in_carrier_override_dropdown` AS t0_r16, `messaging_development`.`aggregator_carriers`.`id` AS t1_r0, `messaging_development`.`aggregator_carriers`.`carrier_id` AS t1_r1, `messaging_development`.`aggregator_carriers`.`aggregator_id` AS t1_r2, `messaging_development`.`aggregator_carriers`.`name` AS t1_r3, `messaging_development`.`aggregator_carriers`.`created_at` AS t1_r4, `messaging_development`.`aggregator_carriers`.`updated_at` AS t1_r5 FROM `messaging_development`.`carriers` LEFT OUTER JOIN `messaging_development`.`aggregator_carriers` ON messaging_development.aggregator_carriers.carrier_id = messaging_development.carriers.id WHERE ((`messaging_development`.`carriers`.`show_in_carrier_override_dropdown` = 1) AND (aggregator_carriers.aggregator_id = 2)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:47:45' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:47:45') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:47:45' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:47:45') and campaigns.delete_me_parent_campaign_id is null))) [0m
Rendered shared/_message_text_area (1634.8ms)
Rendered app/shared/data_collection/_campaign_questions (0.4ms)
Rendered app/messages/_std_message_fields (1637.7ms)
  [4;35;1mCampaignType Load (0.2ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCampaignType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;35;1mCampaign Load (34.2ms)[0m   [0mSELECT * FROM `campaigns` WHERE (((((campaigns.campaign_type_id = 1) AND (campaigns.start_at < '2011-02-15 16:47:46' and (campaigns.end_at is null or campaigns.end_at > '2011-02-15 16:47:46'))) AND (delete_me_parent_campaign_id is null)) AND (`campaigns`.`active` = 1)) AND (`campaigns`.account_id = 1)) [0m
  [4;36;1mSubscriptionCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
Cache read: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
Cache write: 5/subscription_stats_namespace
Cache miss: 5/subscription_stats_namespace ({:raw=>true})
Cache write: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
Cache write (will save 0.01ms): 5/subscription_stats_namespace
Cache read: subscription_stats_1297788466322442/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
Cache write: subscription_stats_1297788466322442/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
Cache miss: subscription_stats_1297788466322442/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1 ({:raw=>true})
  [4;35;1mSubscription Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `subscriptions`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(DISTINCT `subscriptions`.user_id) AS count_user_id FROM subscriptions use index (index_on_subscription_campaign_id_and_confirmed_at_opt_in_at) WHERE ((((subscription_type_id = 1) AND (confirmed_at is not null)) AND (`subscriptions`.subscription_campaign_id = 1)) AND (`subscriptions`.subscription_campaign_id = 1)) [0m
Cache write: subscription_stats_1297788466322442/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
Cache write (will save 6.07ms): subscription_stats_1297788466322442/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
  [4;35;1mUserAttributeDataType Load (0.2ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
  [4;36;1mUserAttributeDataType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;35;1mAutoRefreshCache Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `auto_refresh_caches`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAutoRefreshCache Update (0.3ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:47:46', `params` = '--- \n- 1\n- :total_count: true\n', `updated_at` = '2011-02-15 16:47:46' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;36;1mSubscriptionListFilterGroup Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;35;1mSubscriptionListFilter Load (0.1ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;36;1mSubscriptionListFilter Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mFilterOperatorType Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;36;1mFilterOperatorType Load (2.2ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;35;1mFilterOperatorType Load (0.2ms)[0m   [0mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;36;1mUserAttribute Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttribute Load (0.9ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
Lucene query: first_name:"Doug" AND (account_id<long>:1 OR account_id:1)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:47:56 +0000 2011)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Load (0.4ms)[0m   [0mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;36;1mAutoRefreshCache Update (0.4ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:47:46', `params` = '--- \n- 1\n- :total_count: true\n', `expires_at` = '2011-02-15 17:47:46', `updated_at` = '2011-02-15 16:47:46' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;35;1mValidUserAttributeValue Load (0.2ms)[0m   [0mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
Rendered app/shared/filters/_filter_configuration (263.8ms)
Rendered app/shared/filters/_filters (681.1ms)
Rendered app/shared/filters/_recipients_filter (1030.7ms)
Rendered app/messages/_std_create_message (2673.7ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (35.8ms)
  [4;36;1mCampaignType Load (0.5ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (0.4ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:47:47') LIMIT 1[0m
Rendered layouts/_app_im_tabs (289.5ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (347.8ms)
  [4;36;1mAccountPricingPlan Load (0.6ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (12.2ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;35;1mAnnouncement Load (0.4ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:47:47' AND ends_at >= '2011-02-15 16:47:47') [0m
Rendered app/shared/_announcements (7.7ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.6ms)
Rendered layouts/_app_im_footer (3.2ms)
api_call? = false
Completed in 4840ms (View: 2781, DB: 699) | 200 OK [http://localhost/app/messages/edit_message?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#new_filter_group (for 127.0.0.1 at 2011-02-15 16:47:51) [POST]
  Parameters: {"filter_type"=>"scheduled_message", "action"=>"new_filter_group", "controller"=>"app/messages"}
  [4;35;1mAccountUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (0.4ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:47:51') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.2ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:47:52') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:37:52') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mCampaign Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
Rendering /app/shared/filters/new_filter_group
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttributeDataType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (0.3ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.2ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
Rendered app/shared/filters/_filter_configuration (31.8ms)
api_call? = false
Completed in 1023ms (View: 30, DB: 20) | 200 OK [http://localhost/app/messages/new_filter_group?filter_type=scheduled_message]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#new_filter_group (for 127.0.0.1 at 2011-02-15 16:47:57) [POST]
  Parameters: {"filter_type"=>"scheduled_message", "action"=>"new_filter_group", "controller"=>"app/messages"}
  [4;35;1mAccountUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (35.2ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:47:57') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.4ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:47:57') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:37:57') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mCampaign Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
Rendering /app/shared/filters/new_filter_group
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttributeDataType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (2.2ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.1ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
Rendered app/shared/filters/_filter_configuration (34.5ms)
api_call? = false
Completed in 1031ms (View: 31, DB: 58) | 200 OK [http://localhost/app/messages/new_filter_group?filter_type=scheduled_message]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:48:12) [POST]
  Parameters: {"time"=>"future", "scheduled_message"=>{"base_broadcast_carrier_id"=>"1", "description"=>"Sears superblast", "base_broadcast_carrier_message"=>"", "base_broadcast_message"=>"The message"}, "campaigns"=>{"5"=>"1"}, "cb_9"=>"on", "send_at"=>"02/28/2011 01:04 AM", "action"=>"edit_message", "new_filter_group"=>"1", "filters"=>[{"operator"=>"EQUALS", "value"=>"Berwyn", "attribute_id"=>"9"}], "controller"=>"app/messages", "Preview, then approve"=>"", "filter_group_select"=>"7", "filter_group_name"=>"", "mId"=>"26"}
  [4;35;1mAccountUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (39.4ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:13') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.2ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:13') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:13') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.1ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;36;1mScheduledMessageDetail Load (0.1ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;35;1mMessageRecipient Load (0.2ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.2ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (2.0ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (132.2ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mKeyword Load (0.6ms)[0m   [0;1mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:48:14') LIMIT 1[0m
  [4;35;1mKeyword Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `keywords`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.4ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.5ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (1.1ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mDataCollectionQuestion Load (0.1ms)[0m   [0;1mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;36;1mSubscriptionListFilterGroup Load (2.4ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = '7') LIMIT 1[0m
  [4;35;1mSubscriptionListFilter Columns (307.6ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;36;1mSQL (12.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;35;1mSubscriptionListFilter Load (1.0ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) LIMIT 1[0m
  [4;36;1mMessageRecipientFilterType Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `message_recipient_filter_types`[0m
  [4;35;1mMessageRecipientFilterType Load (0.7ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'ALIAS') LIMIT 1[0m
  [4;36;1mMessageRecipientFilterType Load (0.1ms)[0m   [0;1mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'CUSTOM') LIMIT 1[0m
  [4;35;1mMessageRecipientFilterType Load (0.1ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'USER') LIMIT 1[0m
  [4;36;1mSubscriptionCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:48:14') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageRecipient Destroy (0.3ms)[0m   [0;1mDELETE FROM `message_recipients` WHERE `id` = 60[0m
  [4;35;1mScheduledMessage Update (0.4ms)[0m   [0mUPDATE `scheduled_messages` SET `subscription_list_filter_group_id` = 7, `updated_at` = '2011-02-15 16:48:14' WHERE `id` = 26[0m
  [4;36;1mVersion Create (0.3ms)[0m   [0;1mINSERT INTO `versions` (`item_id`, `account_id`, `event`, `whodunnit`, `object`, `item_type`, `created_at`) VALUES(26, 1, 'update', 5, '--- \nupdated_at: 2011-02-15 16:44:58 Z\nemail_id: \naccount_id: 1\ncampaign_id: 5\napproval_comment: \nid: 26\napproval_status_id: \ndescription: Sears superblast\nsubscription_list_filter_group_id: \nupdate_initial_promo_message: false\ncreated_at: 2011-02-14 16:04:33 Z\nalert: false\n', 'ScheduledMessage', '2011-02-15 16:48:14')[0m
  [4;35;1mLocale Load (0.1ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Update (0.3ms)[0m   [0;1mUPDATE `messages` SET `scope` = '--- \nscheduled_message_id: 26\n' WHERE `id` = 126[0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;35;1mLocale Load (0.2ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.4ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;35;1mApprovalStatus Load (0.2ms)[0m   [0mSELECT * FROM `approval_statuses` [0m
  [4;36;1mApprovalStatus Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `approval_statuses`[0m
Loaded ["PENDING", "APPROVED", "REJECTED"] for ApprovalStatus
  [4;35;1mMessageStatus Load (0.2ms)[0m   [0mSELECT * FROM `message_status` [0m
  [4;36;1mMessageStatus Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `message_status`[0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;35;1mSubscriptionListFilterGroup Load (0.4ms)[0m   [0mSELECT `subscription_list_filter_groups`.id FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`name` = BINARY 'Doug' AND `subscription_list_filter_groups`.id <> 7) LIMIT 1[0m
  [4;36;1mMessageRecipient Create (0.4ms)[0m   [0;1mINSERT INTO `message_recipients` (`updated_at`, `recipient_count`, `scheduled_message_id`, `subscription_campaign_id`, `user_id`, `created_at`) VALUES('2011-02-15 16:48:14', 0, 26, 1, NULL, '2011-02-15 16:48:14')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/app/messages/message_view?mId=26
api_call? = false
Completed in 2265ms (DB: 540) | 302 Found [http://localhost/app/messages/edit_message?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#message_view (for 127.0.0.1 at 2011-02-15 16:48:15) [GET]
  Parameters: {"action"=>"message_view", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (37.6ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:16') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.6ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.4ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:16') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:16') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.3ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = '26') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `accounts`.id) AS count_all FROM `accounts` LEFT OUTER JOIN `accounts` accounts_accounts ON accounts_accounts.managed_by_account_id = accounts.id WHERE (`accounts`.managed_by_account_id = 1) [0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.managed_by_account_id = 1) ORDER BY name[0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (3,2)) ORDER BY name[0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (4,5)) ORDER BY name[0m
  [4;35;1mMessageRecipient Load (0.4ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.3ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (0.4ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.3ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mMessageRecipientFilter Load (0.4ms)[0m   [0mSELECT * FROM `message_recipient_filters` WHERE (`message_recipient_filters`.message_recipient_id = 61) [0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;36;1mSubscriptionListFilterGroup Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;35;1mSubscriptionListFilterGroup Load (1.3ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 7) [0m
Rendering template within layouts/app_im
Rendering app/messages/message_view
  [4;36;1mMessageStatus Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_status`[0m
  [4;35;1mMessageStatus Load (0.4ms)[0m   [0mSELECT * FROM `message_status` WHERE (`message_status`.`id` = 1) [0m
  [4;36;1mMessageStatus Load (0.1ms)[0m   [0;1mSELECT * FROM `message_status` [0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;35;1mDataCollectionQuestion Load (0.2ms)[0m   [0mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.5ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mMessage Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
Rendered shared/_message_confirmation (43.6ms)
  [4;36;1mCampaignType Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `campaign_types`[0m
  [4;35;1mCampaignType Load (0.2ms)[0m   [0mSELECT * FROM `campaign_types` WHERE (`campaign_types`.`id` = 1) ORDER BY position[0m
  [4;36;1mCampaignType Load (0.1ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;35;1mSubscriptionListFilter Load (0.2ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;36;1mSubscriptionListFilter Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mUserAttribute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttribute Load (0.6ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;35;1mUserAttributeDataType Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;36;1mUserAttributeDataType Load (2.0ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mFilterOperatorType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;36;1mFilterOperatorType Load (1.6ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mFilterOperatorType Load (0.1ms)[0m   [0;1mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
Rendered app/messages/_show_filters (34.6ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;36;1mAccountUserRole Load (0.2ms)[0m   [0;1mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccountUserRole Load (0.1ms)[0m   [0mSELECT * FROM `account_user_roles` [0m
  [4;36;1mAccountUserRole Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (37.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mShortCode Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `short_codes`[0m
  [4;36;1mShortCode Load (0.4ms)[0m   [0;1mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:48:17') LIMIT 1[0m
Rendered layouts/_app_im_tabs (293.7ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (354.3ms)
  [4;35;1mAccountPricingPlan Load (0.2ms)[0m   [0mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (12.4ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:48:17' AND ends_at >= '2011-02-15 16:48:17') [0m
Rendered app/shared/_announcements (250.7ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.7ms)
Rendered layouts/_app_im_footer (3.4ms)
api_call? = false
Completed in 2420ms (View: 993, DB: 92) | 200 OK [http://localhost/app/messages/message_view?mId=26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:48:23) [GET]
  Parameters: {"action"=>"edit_message", "controller"=>"app/messages", "mId"=>"26"}
  [4;36;1mAccountUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `account_users`[0m
  [4;35;1mAccountUser Load (2.3ms)[0m   [0mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:23') [0m
api_call? = false
api_call? = false
  [4;36;1mAccount Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `accounts`[0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mTimezone Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `timezones`[0m
  [4;35;1mTimezone Load (0.5ms)[0m   [0mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;35;1mAutoRefreshCache Load (0.6ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:23') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:23') and account_id = 1) [0m
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (0.8ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;36;1mMessageRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (1.7ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (138.2ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (0.2ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mSubscriptionListFilterGroup Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;35;1mSubscriptionListFilterGroup Load (1.2ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 7) [0m
Rendering template within layouts/app_im
Rendering app/messages/edit_message
  [4;36;1mLibraryItem Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `library_items`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `library_items` WHERE ((message is not null) AND (account_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.3ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mMessage Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mAmoeForm Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `amoe_forms`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:25' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:25') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:25' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:25') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mAggregator Load (0.2ms)[0m   [0mSELECT * FROM `messaging_development`.`aggregators` [0m
  [4;36;1mAggregator Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`aggregators`[0m
Loaded ["MC", "NN", "VB", "ER", "MYTHUM", "OMSMPP", "VS", "OM", "MB"] for Aggregator
  [4;35;1mCarrier Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`carriers`[0m
  [4;36;1mAggregatorCarrier Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`aggregator_carriers`[0m
  [4;35;1mCarrier Load Including Associations (0.3ms)[0m   [0mSELECT `messaging_development`.`carriers`.`id` AS t0_r0, `messaging_development`.`carriers`.`name` AS t0_r1, `messaging_development`.`carriers`.`sms_character_length` AS t0_r2, `messaging_development`.`carriers`.`email_domain` AS t0_r3, `messaging_development`.`carriers`.`tier` AS t0_r4, `messaging_development`.`carriers`.`created_at` AS t0_r5, `messaging_development`.`carriers`.`updated_at` AS t0_r6, `messaging_development`.`carriers`.`binary_length` AS t0_r7, `messaging_development`.`carriers`.`unicode_length` AS t0_r8, `messaging_development`.`carriers`.`binary_enabled` AS t0_r9, `messaging_development`.`carriers`.`unicode_enabled` AS t0_r10, `messaging_development`.`carriers`.`smart_messaging_enabled` AS t0_r11, `messaging_development`.`carriers`.`wap_push_enabled` AS t0_r12, `messaging_development`.`carriers`.`ems_enabled` AS t0_r13, `messaging_development`.`carriers`.`wap_push_override` AS t0_r14, `messaging_development`.`carriers`.`gsm_network` AS t0_r15, `messaging_development`.`carriers`.`show_in_carrier_override_dropdown` AS t0_r16, `messaging_development`.`aggregator_carriers`.`id` AS t1_r0, `messaging_development`.`aggregator_carriers`.`carrier_id` AS t1_r1, `messaging_development`.`aggregator_carriers`.`aggregator_id` AS t1_r2, `messaging_development`.`aggregator_carriers`.`name` AS t1_r3, `messaging_development`.`aggregator_carriers`.`created_at` AS t1_r4, `messaging_development`.`aggregator_carriers`.`updated_at` AS t1_r5 FROM `messaging_development`.`carriers` LEFT OUTER JOIN `messaging_development`.`aggregator_carriers` ON messaging_development.aggregator_carriers.carrier_id = messaging_development.carriers.id WHERE ((`messaging_development`.`carriers`.`show_in_carrier_override_dropdown` = 1) AND (aggregator_carriers.aggregator_id = 2)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:26' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:26') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:26' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:26') and campaigns.delete_me_parent_campaign_id is null))) [0m
Rendered shared/_message_text_area (1450.4ms)
Rendered app/shared/data_collection/_campaign_questions (0.4ms)
Rendered app/messages/_std_message_fields (1453.5ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCampaignType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;36;1mCampaign Load (30.3ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (((((campaigns.campaign_type_id = 1) AND (campaigns.start_at < '2011-02-15 16:48:26' and (campaigns.end_at is null or campaigns.end_at > '2011-02-15 16:48:26'))) AND (delete_me_parent_campaign_id is null)) AND (`campaigns`.`active` = 1)) AND (`campaigns`.account_id = 1)) [0m
  [4;35;1mSubscriptionCampaign Load (0.1ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
Cache read: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)
Cache write: 5/subscription_stats_namespace
Cache miss: 5/subscription_stats_namespace ({:raw=>true})
Cache write: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)
Cache write (will save 0.01ms): 5/subscription_stats_namespace
Cache read: subscription_stats_1297788506372212/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)
Cache write: subscription_stats_1297788506372212/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
Cache miss: subscription_stats_1297788506372212/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1 ({:raw=>true})
  [4;36;1mSubscription Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `subscriptions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(DISTINCT `subscriptions`.user_id) AS count_user_id FROM subscriptions use index (index_on_subscription_campaign_id_and_confirmed_at_opt_in_at) WHERE ((((subscription_type_id = 1) AND (confirmed_at is not null)) AND (`subscriptions`.subscription_campaign_id = 1)) AND (`subscriptions`.subscription_campaign_id = 1)) [0m
Cache write: subscription_stats_1297788506372212/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)
Cache write (will save 5.90ms): subscription_stats_1297788506372212/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` [0m
  [4;35;1mUserAttributeDataType Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;36;1mAutoRefreshCache Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `auto_refresh_caches`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Update (0.4ms)[0m   [0mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:48:26', `params` = '--- \n- 1\n- :total_count: true\n', `updated_at` = '2011-02-15 16:48:26' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mSubscriptionListFilter Load (0.2ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;36;1mSubscriptionListFilter Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mFilterOperatorType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;36;1mFilterOperatorType Load (0.2ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;36;1mUserAttribute Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttribute Load (0.8ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
Lucene query: first_name:"Doug" AND (account_id<long>:1 OR account_id:1)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:48:44 +0000 2011)
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAutoRefreshCache Load (0.9ms)[0m   [0mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;36;1mAutoRefreshCache Update (0.3ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:48:26', `params` = '--- \n- 1\n- :total_count: true\n', `expires_at` = '2011-02-15 17:48:26', `updated_at` = '2011-02-15 16:48:26' WHERE `id` = 4[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;36;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttributeDataType Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;35;1mValidUserAttributeValue Load (0.2ms)[0m   [0mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;36;1mSubscriptionListFilter Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;36;1mFilterOperatorType Load (0.1ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (parent_id is not null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;36;1mUserAttribute Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
Rendered app/shared/filters/_filter_configuration (32.5ms)
Rendered app/shared/filters/_filters (672.8ms)
Rendered app/shared/filters/_recipients_filter (1027.4ms)
Rendered app/messages/_std_create_message (2486.1ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;36;1mAccountUserRole Load (0.2ms)[0m   [0;1mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT * FROM `account_user_roles` [0m
  [4;36;1mAccountUserRole Columns (25.3ms)[0m   [0;1mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (319.5ms)
  [4;35;1mCampaignType Load (0.2ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mShortCode Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `short_codes`[0m
  [4;36;1mShortCode Load (0.4ms)[0m   [0;1mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:48:27') LIMIT 1[0m
Rendered layouts/_app_im_tabs (41.9ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (385.3ms)
  [4;35;1mAccountPricingPlan Load (0.2ms)[0m   [0mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (260.6ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:48:27' AND ends_at >= '2011-02-15 16:48:27') [0m
Rendered app/shared/_announcements (7.9ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.7ms)
Rendered layouts/_app_im_footer (3.3ms)
api_call? = false
Completed in 4673ms (View: 3060, DB: 261) | 200 OK [http://localhost/app/messages/edit_message?mId=26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:48:31) [POST]
  Parameters: {"time"=>"future", "scheduled_message"=>{"base_broadcast_carrier_id"=>"1", "description"=>"Sears superblast", "base_broadcast_carrier_message"=>"", "base_broadcast_message"=>"The message"}, "campaigns"=>{"5"=>"1"}, "send_at"=>"02/28/2011 01:04 AM", "action"=>"edit_message", "new_filter_group"=>"0", "filters"=>[{"operator"=>"EQUALS", "id"=>"14", "value"=>"Doug", "attribute_id"=>"1"}], "controller"=>"app/messages", "cb_1"=>"on", "Preview, then approve"=>"", "filter_group_select"=>"7", "filter_group_name"=>"Doug", "subscription_list_filter_group_id"=>"7", "mId"=>"26"}
  [4;36;1mAccountUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `account_users`[0m
  [4;35;1mAccountUser Load (40.5ms)[0m   [0mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:31') [0m
api_call? = false
api_call? = false
  [4;36;1mAccount Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `accounts`[0m
  [4;35;1mAccount Load (0.4ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mTimezone Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `timezones`[0m
  [4;35;1mTimezone Load (0.2ms)[0m   [0mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;36;1mTimezone Load (0.2ms)[0m   [0;1mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;35;1mAutoRefreshCache Load (0.5ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:31') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:31') and account_id = 1) [0m
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (0.3ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (9.2ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mScheduledMessageDetail Load (0.3ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;36;1mMessageRecipient Load (0.2ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (6.7ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (5.8ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (6.5ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (1.2ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (8.1ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (1.3ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mKeyword Load (0.5ms)[0m   [0mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:48:32') LIMIT 1[0m
  [4;36;1mKeyword Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `keywords`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mLocale Columns (5.6ms)[0m   [0mSHOW FIELDS FROM `locales`[0m
  [4;36;1mLocale Load (13.6ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (13.7ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mDataCollectionQuestion Load (0.2ms)[0m   [0mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSubscriptionListFilterGroup Columns (33.4ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;35;1mSubscriptionListFilterGroup Load (50.5ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = '7') LIMIT 1[0m
  [4;36;1mSubscriptionListFilter Columns (25.8ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mSQL (58.9ms)[0m   [0mSELECT count(*) AS count_all FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;36;1mSubscriptionListFilter Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) LIMIT 1[0m
  [4;35;1mMessageRecipientFilterType Columns (30.4ms)[0m   [0mSHOW FIELDS FROM `message_recipient_filter_types`[0m
  [4;36;1mMessageRecipientFilterType Load (62.2ms)[0m   [0;1mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'ALIAS') LIMIT 1[0m
  [4;35;1mMessageRecipientFilterType Load (0.2ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'CUSTOM') LIMIT 1[0m
  [4;36;1mMessageRecipientFilterType Load (0.1ms)[0m   [0;1mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'USER') LIMIT 1[0m
  [4;35;1mSubscriptionCampaign Load (0.1ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mKeyword Load (0.5ms)[0m   [0mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:48:33') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mMessageRecipient Destroy (0.3ms)[0m   [0mDELETE FROM `message_recipients` WHERE `id` = 61[0m
  [4;36;1mLocale Load (0.5ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Update (0.3ms)[0m   [0mUPDATE `messages` SET `scope` = '--- \nscheduled_message_id: 26\n' WHERE `id` = 126[0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;36;1mLocale Load (0.2ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.5ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;36;1mApprovalStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `approval_statuses` [0m
  [4;35;1mApprovalStatus Columns (11.1ms)[0m   [0mSHOW FIELDS FROM `approval_statuses`[0m
Loaded ["PENDING", "APPROVED", "REJECTED"] for ApprovalStatus
  [4;36;1mMessageStatus Load (48.1ms)[0m   [0;1mSELECT * FROM `message_status` [0m
  [4;35;1mMessageStatus Columns (96.7ms)[0m   [0mSHOW FIELDS FROM `message_status`[0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;36;1mSubscriptionListFilterGroup Load (66.5ms)[0m   [0;1mSELECT `subscription_list_filter_groups`.id FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`name` = BINARY 'Doug' AND `subscription_list_filter_groups`.id <> 7) LIMIT 1[0m
  [4;35;1mMessageRecipient Create (0.5ms)[0m   [0mINSERT INTO `message_recipients` (`updated_at`, `recipient_count`, `scheduled_message_id`, `subscription_campaign_id`, `user_id`, `created_at`) VALUES('2011-02-15 16:48:33', 0, 26, 1, NULL, '2011-02-15 16:48:33')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/app/messages/message_view?mId=26
api_call? = false
Completed in 2446ms (DB: 622) | 302 Found [http://localhost/app/messages/edit_message?mId=26]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#message_view (for 127.0.0.1 at 2011-02-15 16:48:34) [GET]
  Parameters: {"action"=>"message_view", "controller"=>"app/messages", "mId"=>"26"}
  [4;36;1mAccountUser Columns (100.8ms)[0m   [0;1mSHOW FIELDS FROM `account_users`[0m
  [4;35;1mAccountUser Load (71.1ms)[0m   [0mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:35') [0m
api_call? = false
api_call? = false
  [4;36;1mAccount Columns (108.4ms)[0m   [0;1mSHOW FIELDS FROM `accounts`[0m
  [4;35;1mAccount Load (61.1ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mTimezone Columns (79.1ms)[0m   [0;1mSHOW FIELDS FROM `timezones`[0m
  [4;35;1mTimezone Load (89.8ms)[0m   [0mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;35;1mAutoRefreshCache Load (0.7ms)[0m   [0mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:35') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:35') and account_id = 1) [0m
  [4;36;1mAccountFeatures Load (0.2ms)[0m   [0;1mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;35;1mAccountFeatures Columns (43.0ms)[0m   [0mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;36;1mScheduledMessage Columns (30.2ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;35;1mScheduledMessage Load (48.9ms)[0m   [0mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = '26') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(DISTINCT `accounts`.id) AS count_all FROM `accounts` LEFT OUTER JOIN `accounts` accounts_accounts ON accounts_accounts.managed_by_account_id = accounts.id WHERE (`accounts`.managed_by_account_id = 1) [0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.managed_by_account_id = 1) ORDER BY name[0m
  [4;36;1mAccount Load (0.4ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (3,2)) ORDER BY name[0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (4,5)) ORDER BY name[0m
  [4;36;1mMessageRecipient Load (0.4ms)[0m   [0;1mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;35;1mMessageRecipient Columns (31.0ms)[0m   [0mSHOW FIELDS FROM `message_recipients`[0m
  [4;36;1mSubscriptionType Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_types` [0m
  [4;35;1mSubscriptionType Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;36;1mSubscriptionCampaign Columns (5.9ms)[0m   [0;1mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;35;1mSubscriptionCampaign Load (0.5ms)[0m   [0mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;36;1mCampaign Columns (14.0ms)[0m   [0;1mSHOW FIELDS FROM `campaigns`[0m
  [4;35;1mCampaign Load (18.6ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mMessageRecipientFilter Load (0.8ms)[0m   [0;1mSELECT * FROM `message_recipient_filters` WHERE (`message_recipient_filters`.message_recipient_id = 62) [0m
  [4;35;1mScheduledMessageDetail Load (0.2ms)[0m   [0mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;36;1mScheduledMessageDetail Columns (88.8ms)[0m   [0;1mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;35;1mSubscriptionListFilterGroup Columns (168.7ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;36;1mSubscriptionListFilterGroup Load (72.9ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 7) [0m
Rendering template within layouts/app_im
Rendering app/messages/message_view
  [4;35;1mMessageStatus Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `message_status`[0m
  [4;36;1mMessageStatus Load (3.4ms)[0m   [0;1mSELECT * FROM `message_status` WHERE (`message_status`.`id` = 1) [0m
  [4;35;1mMessageStatus Load (0.1ms)[0m   [0mSELECT * FROM `message_status` [0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;36;1mDataCollectionQuestion Load (0.2ms)[0m   [0;1mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mLocale Columns (56.0ms)[0m   [0mSHOW FIELDS FROM `locales`[0m
  [4;36;1mLocale Load (74.6ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mMessage Columns (31.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (188.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
Rendered shared/_message_confirmation (657.6ms)
  [4;35;1mCampaignType Columns (10.8ms)[0m   [0mSHOW FIELDS FROM `campaign_types`[0m
  [4;36;1mCampaignType Load (30.1ms)[0m   [0;1mSELECT * FROM `campaign_types` WHERE (`campaign_types`.`id` = 1) ORDER BY position[0m
  [4;35;1mCampaignType Load (0.1ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;36;1mSubscriptionListFilter Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;35;1mSubscriptionListFilter Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;36;1mUserAttribute Columns (11.5ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttribute Load (2.4ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;36;1mUserAttributeDataType Columns (11.6ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (0.4ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mFilterOperatorType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;35;1mFilterOperatorType Load (3.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;35;1mFilterOperatorType Load (0.2ms)[0m   [0mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
Rendered app/messages/_show_filters (59.6ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.4ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (7.7ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (44.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (25.6ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (12.7ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:48:38') LIMIT 1[0m
Rendered layouts/_app_im_tabs (338.4ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (671.5ms)
  [4;36;1mAccountPricingPlan Load (0.5ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (13.1ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:48:38' AND ends_at >= '2011-02-15 16:48:38') [0m
Rendered app/shared/_announcements (8.4ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (3.8ms)
Rendered layouts/_app_im_footer (4.8ms)
api_call? = false
Completed in 3955ms (View: 1042, DB: 1523) | 200 OK [http://localhost/app/messages/message_view?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:48:43) [GET]
  Parameters: {"action"=>"edit_message", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (31.1ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:43') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (2.2ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:43') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:43') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.6ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;36;1mScheduledMessageDetail Load (0.1ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;35;1mMessageRecipient Load (0.2ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.2ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (127.7ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.7ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 7) [0m
Rendering template within layouts/app_im
Rendering app/messages/edit_message
  [4;35;1mLibraryItem Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `library_items`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `library_items` WHERE ((message is not null) AND (account_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mLocale Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `locales`[0m
  [4;36;1mLocale Load (0.8ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mMessage Columns (270.6ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mAmoeForm Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `amoe_forms`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:45' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:45') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:45' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:45') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mAggregator Load (0.2ms)[0m   [0;1mSELECT * FROM `messaging_development`.`aggregators` [0m
  [4;35;1mAggregator Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`aggregators`[0m
Loaded ["MC", "NN", "VB", "ER", "MYTHUM", "OMSMPP", "VS", "OM", "MB"] for Aggregator
  [4;36;1mCarrier Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `messaging_development`.`carriers`[0m
  [4;35;1mAggregatorCarrier Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `messaging_development`.`aggregator_carriers`[0m
  [4;36;1mCarrier Load Including Associations (0.6ms)[0m   [0;1mSELECT `messaging_development`.`carriers`.`id` AS t0_r0, `messaging_development`.`carriers`.`name` AS t0_r1, `messaging_development`.`carriers`.`sms_character_length` AS t0_r2, `messaging_development`.`carriers`.`email_domain` AS t0_r3, `messaging_development`.`carriers`.`tier` AS t0_r4, `messaging_development`.`carriers`.`created_at` AS t0_r5, `messaging_development`.`carriers`.`updated_at` AS t0_r6, `messaging_development`.`carriers`.`binary_length` AS t0_r7, `messaging_development`.`carriers`.`unicode_length` AS t0_r8, `messaging_development`.`carriers`.`binary_enabled` AS t0_r9, `messaging_development`.`carriers`.`unicode_enabled` AS t0_r10, `messaging_development`.`carriers`.`smart_messaging_enabled` AS t0_r11, `messaging_development`.`carriers`.`wap_push_enabled` AS t0_r12, `messaging_development`.`carriers`.`ems_enabled` AS t0_r13, `messaging_development`.`carriers`.`wap_push_override` AS t0_r14, `messaging_development`.`carriers`.`gsm_network` AS t0_r15, `messaging_development`.`carriers`.`show_in_carrier_override_dropdown` AS t0_r16, `messaging_development`.`aggregator_carriers`.`id` AS t1_r0, `messaging_development`.`aggregator_carriers`.`carrier_id` AS t1_r1, `messaging_development`.`aggregator_carriers`.`aggregator_id` AS t1_r2, `messaging_development`.`aggregator_carriers`.`name` AS t1_r3, `messaging_development`.`aggregator_carriers`.`created_at` AS t1_r4, `messaging_development`.`aggregator_carriers`.`updated_at` AS t1_r5 FROM `messaging_development`.`carriers` LEFT OUTER JOIN `messaging_development`.`aggregator_carriers` ON messaging_development.aggregator_carriers.carrier_id = messaging_development.carriers.id WHERE ((`messaging_development`.`carriers`.`show_in_carrier_override_dropdown` = 1) AND (aggregator_carriers.aggregator_id = 2)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:46' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:46') and campaigns.delete_me_parent_campaign_id is null))) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(DISTINCT `amoe_forms`.id) AS count_all FROM `amoe_forms` LEFT OUTER JOIN `campaigns` ON `campaigns`.id = `amoe_forms`.campaign_id WHERE ((amoe_forms.account_id = 1) AND (campaign_id is null or (campaigns.active = 1 and campaigns.start_at <= '2011-02-15 16:48:46' and (campaigns.end_at is null or campaigns.end_at >= '2011-02-15 16:48:46') and campaigns.delete_me_parent_campaign_id is null))) [0m
Rendered shared/_message_text_area (2047.9ms)
Rendered app/shared/data_collection/_campaign_questions (0.5ms)
Rendered app/messages/_std_message_fields (2050.9ms)
  [4;35;1mCampaignType Load (0.2ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCampaignType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `campaign_types`[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;35;1mCampaign Load (34.3ms)[0m   [0mSELECT * FROM `campaigns` WHERE (((((campaigns.campaign_type_id = 1) AND (campaigns.start_at < '2011-02-15 16:48:46' and (campaigns.end_at is null or campaigns.end_at > '2011-02-15 16:48:46'))) AND (delete_me_parent_campaign_id is null)) AND (`campaigns`.`active` = 1)) AND (`campaigns`.account_id = 1)) [0m
  [4;36;1mSubscriptionCampaign Load (0.2ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
Cache read: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)
Cache write: 5/subscription_stats_namespace
Cache miss: 5/subscription_stats_namespace ({:raw=>true})
Cache write: 5/subscription_stats_namespace
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)
Cache write (will save 0.01ms): 5/subscription_stats_namespace
Cache read: subscription_stats_1297788526714226/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)
Cache write: subscription_stats_1297788526714226/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
Cache miss: subscription_stats_1297788526714226/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1 ({:raw=>true})
  [4;35;1mSubscription Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `subscriptions`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(DISTINCT `subscriptions`.user_id) AS count_user_id FROM subscriptions use index (index_on_subscription_campaign_id_and_confirmed_at_opt_in_at) WHERE ((((subscription_type_id = 1) AND (confirmed_at is not null)) AND (`subscriptions`.subscription_campaign_id = 1)) AND (`subscriptions`.subscription_campaign_id = 1)) [0m
Cache write: subscription_stats_1297788526714226/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)
Cache write (will save 266.35ms): subscription_stats_1297788526714226/5/5/total_confirmed_subscribers/5/subscription_campaign_id=1&subscription_type=1
  [4;35;1mUserAttributeDataType Load (0.2ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
  [4;36;1mUserAttributeDataType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE (account_id = 1 and memcache_key = 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_') LIMIT 1[0m
  [4;35;1mAutoRefreshCache Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `auto_refresh_caches`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAutoRefreshCache Update (0.4ms)[0m   [0;1mUPDATE `auto_refresh_caches` SET `last_refresh_requested_at` = '2011-02-15 16:48:47', `params` = '--- \n- 1\n- :total_count: true\n', `updated_at` = '2011-02-15 16:48:47' WHERE `id` = 4[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;36;1mSubscriptionListFilter Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;35;1mSubscriptionListFilter Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;36;1mFilterOperatorType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mFilterOperatorType Load (0.1ms)[0m   [0;1mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;35;1mUserAttribute Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttribute Load (0.4ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
Lucene query: first_name:"Doug" AND (account_id<long>:1 OR account_id:1)
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
Cache write: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
MemCacheError (No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)): No connection to server (localhost:11211 DEAD (Errno::ECONNREFUSED: Connection refused - connect(2)), will retry at Tue Feb 15 16:49:16 +0000 2011)
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAutoRefreshCache Load (0.4ms)[0m   [0;1mSELECT `auto_refresh_caches`.id FROM `auto_refresh_caches` WHERE (`auto_refresh_caches`.`memcache_key` = BINARY 'SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_' AND `auto_refresh_caches`.account_id = 1 AND `auto_refresh_caches`.id <> 4) LIMIT 1[0m
  [4;35;1mAutoRefreshCache Update (0.5ms)[0m   [0mUPDATE `auto_refresh_caches` SET `last_refreshed` = '2011-02-15 16:48:47', `params` = '--- \n- 1\n- :total_count: true\n', `expires_at` = '2011-02-15 17:48:47', `updated_at` = '2011-02-15 16:48:47' WHERE `id` = 4[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Cache read: 1_SubscriptionListFilterGroup_number_of_matches_for_all_groups_1_
  [4;35;1mSubscriptionListFilterGroup Load (0.1ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (account_id = 1 and name is not null and name != "") ORDER BY name[0m
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttributeDataType Load (0.2ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.2ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mSubscriptionListFilter Load (0.1ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 7) [0m
  [4;36;1mUserAttribute Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 1) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `user_attributes` WHERE (`user_attributes`.parent_id = 1 AND (soft_delete = 0)) [0m
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (parent_id is not null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (user_attribute_data_type_id = 11 and parent_id is null) AND (((account_id is null or account_id = 1)) AND (soft_delete = 0)) [0m
Rendered app/shared/filters/_filter_configuration (289.8ms)
Rendered app/shared/filters/_filters (691.1ms)
Rendered app/shared/filters/_recipients_filter (1061.1ms)
Rendered app/messages/_std_create_message (3117.1ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;35;1mAccountUserRole Load (0.2ms)[0m   [0mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mAccountUserRole Load (0.1ms)[0m   [0;1mSELECT * FROM `account_user_roles` [0m
  [4;35;1mAccountUserRole Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (35.5ms)
  [4;36;1mCampaignType Load (0.2ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mShortCode Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `short_codes`[0m
  [4;35;1mShortCode Load (0.4ms)[0m   [0mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:48:48') LIMIT 1[0m
Rendered layouts/_app_im_tabs (300.9ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (359.5ms)
  [4;36;1mAccountPricingPlan Load (0.2ms)[0m   [0;1mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (14.0ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;35;1mAnnouncement Load (0.3ms)[0m   [0mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:48:48' AND ends_at >= '2011-02-15 16:48:48') [0m
Rendered app/shared/_announcements (7.6ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.6ms)
Rendered layouts/_app_im_footer (3.3ms)
api_call? = false
Completed in 5062ms (View: 3167, DB: 530) | 200 OK [http://localhost/app/messages/edit_message?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#new_filter_group (for 127.0.0.1 at 2011-02-15 16:48:51) [POST]
  Parameters: {"filter_type"=>"scheduled_message", "action"=>"new_filter_group", "controller"=>"app/messages"}
  [4;35;1mAccountUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (34.9ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:48:52') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.1ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:48:52') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:38:52') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.3ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mCampaign Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` IS NULL) LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
Rendering /app/shared/filters/new_filter_group
  [4;36;1mUserAttribute Load (0.2ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE ((((account_id is null or account_id = 1)) AND (document_name != "mobile_phone")) AND (soft_delete = 0)) [0m
  [4;35;1mUserAttribute Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttributeDataType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (0.4ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` IN (12,7,8,9,1,3,10)) [0m
  [4;36;1mValidUserAttributeValue Load (0.2ms)[0m   [0;1mSELECT `valid_user_attribute_values`.* FROM `valid_user_attribute_values` WHERE (`valid_user_attribute_values`.user_attribute_id IN (1,2,3,4,5,6,7,8,9,10)) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
Rendered app/shared/filters/_filter_configuration (278.7ms)
api_call? = false
Completed in 1065ms (View: 277, DB: 55) | 200 OK [http://localhost/app/messages/new_filter_group?filter_type=scheduled_message]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#edit_message (for 127.0.0.1 at 2011-02-15 16:49:03) [POST]
  Parameters: {"time"=>"future", "scheduled_message"=>{"base_broadcast_carrier_id"=>"1", "description"=>"Sears superblast", "base_broadcast_carrier_message"=>"", "base_broadcast_message"=>"The message"}, "campaigns"=>{"5"=>"1"}, "cb_9"=>"on", "send_at"=>"02/28/2011 01:04 AM", "action"=>"edit_message", "new_filter_group"=>"1", "filters"=>[{"operator"=>"EQUALS", "value"=>"berwyn", "attribute_id"=>"9"}], "controller"=>"app/messages", "Preview, then approve"=>"", "filter_group_select"=>"", "filter_group_name"=>"", "mId"=>"26"}
  [4;35;1mAccountUser Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (40.7ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:49:03') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.3ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.5ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:49:03') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:39:03') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = 26) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;36;1mScheduledMessageDetail Load (0.1ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.`scheduled_message_id` = 26) LIMIT 1[0m
  [4;35;1mMessageRecipient Load (0.2ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.2ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (1.8ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (37.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mKeyword Load (0.6ms)[0m   [0;1mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:49:04') LIMIT 1[0m
  [4;35;1mKeyword Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `keywords`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.6ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `messages`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.1ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;36;1mDataCollectionQuestion Load (0.1ms)[0m   [0;1mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSubscriptionListFilterGroup Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;36;1mSubscriptionListFilterGroup Load (0.8ms)[0m   [0;1mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = '') LIMIT 1[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.2ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` IS NULL) LIMIT 1[0m
  [4;36;1mUserAttribute Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `user_attributes`[0m
  [4;35;1mUserAttribute Load (0.1ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = '9') LIMIT 1[0m
  [4;36;1mUserAttributeDataType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;35;1mUserAttributeDataType Load (1.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;36;1mFilterOperatorType Load (0.2ms)[0m   [0;1mSELECT * FROM `filter_operator_types` [0m
  [4;35;1mFilterOperatorType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `filter_operator_types`[0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;36;1mFilterOperatorType Load (0.2ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`code` = 'EQUALS') LIMIT 1[0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mSubscriptionListFilter Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mSubscriptionListFilter Load (0.5ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.`id` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSubscriptionListFilter Load (0.3ms)[0m   [0;1mSELECT * FROM `subscription_list_filters` WHERE (subscription_column = 'source_campaign_id' and subscription_list_filter_group_id = NULL) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.`id` IS NULL) LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mMessageRecipientFilterType Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `message_recipient_filter_types`[0m
  [4;35;1mMessageRecipientFilterType Load (0.1ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'ALIAS') LIMIT 1[0m
  [4;36;1mMessageRecipientFilterType Load (0.3ms)[0m   [0;1mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'CUSTOM') LIMIT 1[0m
  [4;35;1mMessageRecipientFilterType Load (0.1ms)[0m   [0mSELECT * FROM `message_recipient_filter_types` WHERE (`message_recipient_filter_types`.`code` = 'USER') LIMIT 1[0m
  [4;36;1mSubscriptionCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.campaign_id = 5) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;36;1mKeyword Load (0.4ms)[0m   [0;1mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:49:05') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mMessageRecipient Destroy (0.3ms)[0m   [0;1mDELETE FROM `message_recipients` WHERE `id` = 62[0m
  [4;35;1mUserAttribute Load (0.2ms)[0m   [0mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 9) [0m
  [4;36;1mUserAttributeDataType Load (0.1ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mFilterOperatorType Load (0.1ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;36;1mFilterOperatorType Load (0.1ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 8) [0m
  [4;35;1mSubscriptionListFilterGroup Create (0.3ms)[0m   [0mINSERT INTO `subscription_list_filter_groups` (`name`, `updated_at`, `account_id`, `description`, `created_at`) VALUES('', '2011-02-15 16:49:05', 1, NULL, '2011-02-15 16:49:05')[0m
  [4;36;1mSubscriptionListFilter Create (0.4ms)[0m   [0;1mINSERT INTO `subscription_list_filters` (`user_attribute_id`, `updated_at`, `account_id`, `filter_operator_type_id`, `subscription_column`, `subscription_list_filter_group_id`, `filter_data_2`, `filter_data`, `created_at`) VALUES(9, '2011-02-15 16:49:05', 1, 1, NULL, 8, NULL, 'berwyn', '2011-02-15 16:49:05')[0m
  [4;35;1mSubscriptionListFilter Create (0.3ms)[0m   [0mINSERT INTO `subscription_list_filters` (`user_attribute_id`, `updated_at`, `account_id`, `filter_operator_type_id`, `subscription_column`, `subscription_list_filter_group_id`, `filter_data_2`, `filter_data`, `created_at`) VALUES(NULL, '2011-02-15 16:49:05', 1, 8, 'source_campaign_id', 8, NULL, '5', '2011-02-15 16:49:05')[0m
  [4;36;1mScheduledMessage Update (0.4ms)[0m   [0;1mUPDATE `scheduled_messages` SET `subscription_list_filter_group_id` = 8, `updated_at` = '2011-02-15 16:49:05' WHERE `id` = 26[0m
  [4;35;1mVersion Create (0.2ms)[0m   [0mINSERT INTO `versions` (`item_id`, `account_id`, `event`, `whodunnit`, `object`, `item_type`, `created_at`) VALUES(26, 1, 'update', 5, '--- \nupdated_at: 2011-02-15 16:48:14 Z\nemail_id: \naccount_id: 1\ncampaign_id: 5\napproval_comment: \nid: 26\napproval_status_id: \ndescription: Sears superblast\nsubscription_list_filter_group_id: 7\nupdate_initial_promo_message: false\ncreated_at: 2011-02-14 16:04:33 Z\nalert: false\n', 'ScheduledMessage', '2011-02-15 16:49:05')[0m
  [4;36;1mLocale Load (0.1ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Update (0.3ms)[0m   [0mUPDATE `messages` SET `scope` = '--- \nscheduled_message_id: 26\n' WHERE `id` = 126[0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;36;1mLocale Load (0.2ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.4ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) [0m
Cache incrementing: 5/message_lookup_namespace (1)
  [4;36;1mApprovalStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `approval_statuses` [0m
  [4;35;1mApprovalStatus Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `approval_statuses`[0m
Loaded ["PENDING", "APPROVED", "REJECTED"] for ApprovalStatus
  [4;36;1mMessageStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `message_status` [0m
  [4;35;1mMessageStatus Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `message_status`[0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;36;1mMessageRecipient Create (0.3ms)[0m   [0;1mINSERT INTO `message_recipients` (`updated_at`, `recipient_count`, `scheduled_message_id`, `subscription_campaign_id`, `user_id`, `created_at`) VALUES('2011-02-15 16:49:05', 0, 26, 1, NULL, '2011-02-15 16:49:05')[0m
  [4;35;1mSQL (0.4ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/app/messages/message_view?mId=26
api_call? = false
Completed in 2426ms (DB: 134) | 302 Found [http://localhost/app/messages/edit_message?mId=26]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing App::MessagesController#message_view (for 127.0.0.1 at 2011-02-15 16:49:06) [GET]
  Parameters: {"action"=>"message_view", "controller"=>"app/messages", "mId"=>"26"}
  [4;35;1mAccountUser Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `account_users`[0m
  [4;36;1mAccountUser Load (0.5ms)[0m   [0;1mSELECT * FROM `account_users` WHERE (`account_users`.`id` = 5) AND (account_users.deleted_at IS NULL OR account_users.deleted_at > '2011-02-15 16:49:06') [0m
api_call? = false
api_call? = false
  [4;35;1mAccount Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `accounts`[0m
  [4;36;1mAccount Load (0.2ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;35;1mTimezone Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `timezones`[0m
  [4;36;1mTimezone Load (0.3ms)[0m   [0;1mSELECT * FROM `timezones` WHERE (`timezones`.`id` = 2) [0m
  [4;35;1mTimezone Load (0.1ms)[0m   [0mSELECT * FROM `timezones` [0m
Loaded ["ARST", "AST", "MST", "CST", "PST", "EST", "HST"] for Timezone
  [4;36;1mAutoRefreshCache Load (0.7ms)[0m   [0;1mSELECT * FROM `auto_refresh_caches` WHERE ((expires_at is null OR expires_at < '2011-02-15 16:49:06') and (last_refresh_requested_at is null OR last_refresh_requested_at < '2011-02-15 16:39:06') and account_id = 1) [0m
  [4;35;1mAccountFeatures Load (0.2ms)[0m   [0mSELECT * FROM `account_features` WHERE (`account_features`.account_id = 1) LIMIT 1[0m
  [4;36;1mAccountFeatures Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `account_features`[0m
In menu filter "subscription_lists", {}
  [4;35;1mScheduledMessage Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `scheduled_messages`[0m
  [4;36;1mScheduledMessage Load (0.6ms)[0m   [0;1mSELECT * FROM `scheduled_messages` WHERE (`scheduled_messages`.`id` = '26') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `accounts`.id) AS count_all FROM `accounts` LEFT OUTER JOIN `accounts` accounts_accounts ON accounts_accounts.managed_by_account_id = accounts.id WHERE (`accounts`.managed_by_account_id = 1) [0m
  [4;36;1mAccount Load (0.1ms)[0m   [0;1mSELECT * FROM `accounts` WHERE (`accounts`.managed_by_account_id = 1) ORDER BY name[0m
  [4;35;1mAccount Load (0.1ms)[0m   [0mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (3,2)) ORDER BY name[0m
  [4;36;1mAccount Load (0.3ms)[0m   [0;1mSELECT `accounts`.* FROM `accounts` WHERE (`accounts`.managed_by_account_id IN (4,5)) ORDER BY name[0m
  [4;35;1mMessageRecipient Load (0.4ms)[0m   [0mSELECT * FROM `message_recipients` WHERE (`message_recipients`.scheduled_message_id = 26) [0m
  [4;36;1mMessageRecipient Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `message_recipients`[0m
  [4;35;1mSubscriptionType Load (0.5ms)[0m   [0mSELECT * FROM `subscription_types` [0m
  [4;36;1mSubscriptionType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_types`[0m
Loaded ["SMS", "EMAIL"] for SubscriptionType
  [4;35;1mSubscriptionCampaign Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `subscription_campaigns`[0m
  [4;36;1mSubscriptionCampaign Load (4.4ms)[0m   [0;1mSELECT * FROM `subscription_campaigns` WHERE (`subscription_campaigns`.`id` = 1) [0m
  [4;35;1mCampaign Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `campaigns`[0m
  [4;36;1mCampaign Load (3.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mMessageRecipientFilter Load (0.4ms)[0m   [0mSELECT * FROM `message_recipient_filters` WHERE (`message_recipient_filters`.message_recipient_id = 63) [0m
  [4;36;1mScheduledMessageDetail Load (0.2ms)[0m   [0;1mSELECT * FROM `scheduled_message_details` WHERE (`scheduled_message_details`.scheduled_message_id = 26) [0m
  [4;35;1mScheduledMessageDetail Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `scheduled_message_details`[0m
  [4;36;1mSubscriptionListFilterGroup Columns (108.5ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filter_groups`[0m
  [4;35;1mSubscriptionListFilterGroup Load (0.4ms)[0m   [0mSELECT * FROM `subscription_list_filter_groups` WHERE (`subscription_list_filter_groups`.`id` = 8) [0m
Rendering template within layouts/app_im
Rendering app/messages/message_view
  [4;36;1mMessageStatus Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `message_status`[0m
  [4;35;1mMessageStatus Load (0.8ms)[0m   [0mSELECT * FROM `message_status` WHERE (`message_status`.`id` = 1) [0m
  [4;36;1mMessageStatus Load (0.1ms)[0m   [0;1mSELECT * FROM `message_status` [0m
Loaded ["DRAFT", "SENT", "CANCEL", "PEND", "HOLD"] for MessageStatus
  [4;35;1mDataCollectionQuestion Load (0.2ms)[0m   [0mSELECT * FROM `data_collection_questions` WHERE (`data_collection_questions`.data_collector_id = 26 AND `data_collection_questions`.data_collector_type = 'ScheduledMessage') ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `accounts` WHERE (`accounts`.`id` = 1) ORDER BY name[0m
  [4;36;1mLocale Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `locales`[0m
  [4;35;1mLocale Load (0.1ms)[0m   [0mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;36;1mMessage Load (0.2ms)[0m   [0;1mSELECT * FROM `messages` WHERE ((scope = '--- \nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
  [4;35;1mMessage Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `messages`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `locales` WHERE (`locales`.`code` = 'en_US') LIMIT 1[0m
  [4;35;1mMessage Load (0.2ms)[0m   [0mSELECT * FROM `messages` WHERE ((scope like '--- \ncarrier_id: %\nscheduled_message_id: 26\n') AND (`messages`.`symbolic_name` = 'broadcast')) LIMIT 1[0m
Rendered shared/_message_confirmation (45.9ms)
  [4;36;1mCampaignType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `campaign_types`[0m
  [4;35;1mCampaignType Load (0.1ms)[0m   [0mSELECT * FROM `campaign_types` WHERE (`campaign_types`.`id` = 1) ORDER BY position[0m
  [4;36;1mCampaignType Load (0.1ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
Loaded ["INSTWIN", "SUB", "ZIP_VALID", "CHAT", "CONTEST", "LOCATION", "TRIVIA", "VOTE", "INFO", "AUC", "TIMED", "ROUTING", "SURVEY", "REQUEST", "LAST_PLAYED", "CUSTOM"] for CampaignType
  [4;35;1mSubscriptionListFilter Load (0.4ms)[0m   [0mSELECT * FROM `subscription_list_filters` WHERE (`subscription_list_filters`.subscription_list_filter_group_id = 8) [0m
  [4;36;1mSubscriptionListFilter Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `subscription_list_filters`[0m
  [4;35;1mUserAttribute Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `user_attributes`[0m
  [4;36;1mUserAttribute Load (0.6ms)[0m   [0;1mSELECT * FROM `user_attributes` WHERE (`user_attributes`.`id` = 9) [0m
  [4;35;1mUserAttributeDataType Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `user_attribute_data_types`[0m
  [4;36;1mUserAttributeDataType Load (0.8ms)[0m   [0;1mSELECT * FROM `user_attribute_data_types` WHERE (`user_attribute_data_types`.`id` = 1) [0m
  [4;35;1mFilterOperatorType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `filter_operator_types`[0m
  [4;36;1mFilterOperatorType Load (0.8ms)[0m   [0;1mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 1) [0m
  [4;35;1mUserAttributeDataType Load (0.1ms)[0m   [0mSELECT * FROM `user_attribute_data_types` [0m
Loaded ["FAMILYINFO", "BOOLEAN", "ZIP", "TIME", "TEXT", "PHONE", "DATE", "GENDER", "STATE", "EMAIL", "CURRENCY", "NUMERIC", "DATETIME", "SHORTDATE"] for UserAttributeDataType
  [4;36;1mFilterOperatorType Load (0.2ms)[0m   [0;1mSELECT * FROM `filter_operator_types` [0m
Loaded ["LESS_THAN", "NOT_EQUALS", "ALL", "IS_NOT_NULL", "NOT_IN_LIST", "IN_LIST", "BETWEEN", "LESS_THAN_OR_EQUAL", "EQUALS", "IS_NULL", "GREATER_THAN_OR_EQUAL", "GREATER_THAN"] for FilterOperatorType
  [4;35;1mFilterOperatorType Load (0.2ms)[0m   [0mSELECT * FROM `filter_operator_types` WHERE (`filter_operator_types`.`id` = 8) [0m
  [4;36;1mCampaign Load (0.1ms)[0m   [0;1mSELECT * FROM `campaigns` WHERE (`campaigns`.`id` = '5') LIMIT 1[0m
  [4;35;1mKeyword Load (0.5ms)[0m   [0mSELECT * FROM `keywords` WHERE (`keywords`.owner_id = 5 AND `keywords`.owner_type = 'Campaign') AND (keywords.deleted_at IS NULL OR keywords.deleted_at > '2011-02-15 16:49:08') LIMIT 1[0m
  [4;36;1mKeyword Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `keywords`[0m
DEPRECATION WARNING: :connector has been deprecated. Use :words_connector instead. (called from format_data at /Users/doug/Code/git/textme/app/models/subscription_list_filter.rb:329)
DEPRECATION WARNING: :skip_last_comma has been deprecated. Use :last_word_connector instead. (called from format_data at /Users/doug/Code/git/textme/app/models/subscription_list_filter.rb:329)
Rendered app/messages/_show_filters (329.0ms)
Rendered layouts/_shadowing_or_managing (0.2ms)
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccount Load (0.2ms)[0m   [0mSELECT `accounts`.* FROM `accounts` INNER JOIN `account_permissions` ON `accounts`.id = `account_permissions`.account_id WHERE ((`account_permissions`.account_user_id = 5)) ORDER BY name[0m
  [4;36;1mAccountUserRole Load (0.2ms)[0m   [0;1mSELECT `account_user_roles`.* FROM `account_user_roles` INNER JOIN `account_permissions` ON `account_user_roles`.id = `account_permissions`.account_user_role_id WHERE ((`account_permissions`.account_user_id = 5)) [0m
  [4;35;1mAccountUserRole Load (0.1ms)[0m   [0mSELECT * FROM `account_user_roles` [0m
  [4;36;1mAccountUserRole Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `account_user_roles`[0m
Loaded ["AM", "A", "GA", "SPA", "PA", "U"] for AccountUserRole
Rendered layouts/_upper_nav (317.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `campaign_types` ORDER BY position[0m
  [4;35;1mShortCode Columns (132.0ms)[0m   [0mSHOW FIELDS FROM `short_codes`[0m
  [4;36;1mShortCode Load (0.5ms)[0m   [0;1mSELECT * FROM `short_codes` WHERE (`short_codes`.`id` = 1) AND (short_codes.deleted_at IS NULL OR short_codes.deleted_at > '2011-02-15 16:49:08') LIMIT 1[0m
Rendered layouts/_app_im_tabs (172.5ms)
Checking for existence of sub_tabs/_subscription_lists.html
Rendered layouts/_app_im_header (514.6ms)
  [4;35;1mAccountPricingPlan Load (0.3ms)[0m   [0mSELECT * FROM `account_pricing_plans` WHERE (`account_pricing_plans`.account_id = 1) AND ((cancellation_date is null) AND (`account_pricing_plans`.account_id = 1)) ORDER BY day(subscription_date) DESC, created_at DESC LIMIT 1[0m
Rendered layouts/_trial (271.9ms)
Rendered layouts/_breadcrumbs (0.1ms)
Rendered layouts/_page_title (0.5ms)
  [4;36;1mAnnouncement Load (0.4ms)[0m   [0;1mSELECT * FROM `announcements` WHERE (starts_at <= '2011-02-15 16:49:09' AND ends_at >= '2011-02-15 16:49:09') [0m
Rendered app/shared/_announcements (7.7ms)
Rendered layouts/_flash_contents (0.2ms)
Rendered layouts/_deferred_javascript (2.6ms)
Rendered layouts/_app_im_footer (3.2ms)
api_call? = false
Completed in 3095ms (View: 1083, DB: 303) | 200 OK [http://localhost/app/messages/message_view?mId=26]
